<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CheckerSupplier.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">checker-core</a> &gt; <a href="index.source.html" class="el_package">com.luchersol.core.specialized_checkers.lambda</a> &gt; <span class="el_source">CheckerSupplier.java</span></div><h1>CheckerSupplier.java</h1><pre class="source lang-java linenums">package com.luchersol.core.specialized_checkers.lambda;

import static com.luchersol.core.util.Message.*;

import java.util.function.Supplier;

import com.luchersol.core.util.AbstractChecker;
import com.luchersol.core.util.Utils;

/**
 * A specialized checker for {@link java.util.function.Supplier} instances, providing a fluent API for validating
 * function behavior and results. This class allows assertions such as verifying that a function does not throw
 * exceptions, produces expected results, or returns non-null values for given inputs.
 *
 * &lt;p&gt;
 * Example usage:
 * &lt;/p&gt;
 * &lt;pre&gt;
 *     CheckerSupplier&amp;lt;Integer&amp;gt; checker = CheckerSupplier.check(() -&gt; 5)
 *            .applyWithoutException()
 *            .producesExpected(5)
 *            .producesNonNull();
 * &lt;/pre&gt;
 *
 * @param &lt;T&gt; the type of the result returned by the {@code Supplier}
 *
 * @see java.util.function.Supplier
 * @see AbstractChecker
 */
public class CheckerSupplier&lt;T&gt; extends AbstractChecker&lt;Supplier&lt;T&gt;, CheckerSupplier&lt;T&gt;&gt; {

    private static final String INIT_SUPPLIER = &quot;lambda.supplier&quot;;
    private static final String DEFAULT_NAME = &quot;Supplier&quot;;

    /**
     * Constructs a new {@code CheckerSupplier} with the specified supplier and name.
     *
     * @param supplier the {@link Supplier} to be used by this checker
     * @param name the name identifying this checker
     */
    protected CheckerSupplier(Supplier&lt;T&gt; supplier, String name) {
<span class="fc" id="L42">        super(supplier, name);</span>
<span class="fc" id="L43">    }</span>

    /**
     * Creates a new {@code CheckerSupplier} for the given {@link Supplier} instance with a custom name.
     *
     * @param supplier the {@code Supplier} instance to be checked
     * @param name     the name to identify this checker instance (useful for error messages)
     * @param &lt;T&gt;      the type of results supplied by the {@code Supplier}
     * @return a new {@code CheckerSupplier} for the provided {@code Supplier}
     */
    public static &lt;T&gt; CheckerSupplier&lt;T&gt; check(Supplier&lt;T&gt; supplier, String name) {
<span class="fc" id="L54">        return new CheckerSupplier&lt;&gt;(supplier, name);</span>
    }

    /**
     * Creates a new {@code CheckerSupplier} for the given {@link Supplier} instance with a default name.
     *
     * @param supplier the {@code Supplier} instance to be checked
     * @param &lt;T&gt;      the type of results supplied by the {@code Supplier}
     * @return a new {@code CheckerSupplier} for the provided {@code Supplier}
     */
    public static &lt;T&gt; CheckerSupplier&lt;T&gt; check(Supplier&lt;T&gt; supplier) {
<span class="fc" id="L65">        return check(supplier, DEFAULT_NAME);</span>
    }

    /**
     * Returns this checker instance (for fluent API usage).
     *
     * @return this {@code CheckerSupplier} instance
     */
    @Override
    protected CheckerSupplier&lt;T&gt; self() {
<span class="fc" id="L75">        return this;</span>
    }

    /**
     * Asserts that calling the {@code get()} method of the {@link Supplier} does not throw any exception.
     *
     * @return this {@code CheckerSupplier} instance for further validation
     */
    public CheckerSupplier&lt;T&gt; applyWithoutException() {
<span class="fc" id="L84">        return is(s -&gt; {</span>
            try {
<span class="fc" id="L86">                s.get();</span>
<span class="fc" id="L87">                return true;</span>
<span class="fc" id="L88">            } catch (Exception e) {</span>
<span class="fc" id="L89">                return false;</span>
            }
<span class="fc" id="L91">        }, sendMessage(INIT_SUPPLIER, &quot;apply_without_exception&quot;));</span>
    }

    /**
     * Asserts that the {@code get()} method of the {@link Supplier} produces the expected result.
     *
     * @param expected the expected result to compare with the actual result of {@code get()}
     * @return this {@code CheckerSupplier} instance for further validation
     */
    public CheckerSupplier&lt;T&gt; producesExpected(T expected) {
<span class="fc" id="L101">        return is(s -&gt; {</span>
            try {
<span class="fc" id="L103">                T result = s.get();</span>
<span class="fc" id="L104">                return Utils.equalsContent(expected, result);</span>
<span class="fc" id="L105">            } catch (Exception e) {</span>
<span class="fc" id="L106">                return false;</span>
            }
<span class="fc" id="L108">        }, sendMessage(INIT_SUPPLIER, &quot;produces_expected&quot;, expected));</span>
    }

    /**
     * Asserts that the {@code get()} method of the {@link Supplier} produces a non-null result.
     *
     * @return this {@code CheckerSupplier} instance for further validation
     */
    public CheckerSupplier&lt;T&gt; producesNonNull() {
<span class="fc" id="L117">        return is(s -&gt; {</span>
            try {
<span class="fc bfc" id="L119" title="All 2 branches covered.">                return s.get() != null;</span>
<span class="fc" id="L120">            } catch (Exception e) {</span>
<span class="fc" id="L121">                return false;</span>
            }
<span class="fc" id="L123">        }, sendMessage(INIT_SUPPLIER, &quot;produces_non_null&quot;));</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>